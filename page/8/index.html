<!doctype html><html lang=en dir=auto><head><meta name=generator content="Hugo 0.115.4"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Andy Dote</title><meta name=description content><meta name=author content><link rel=canonical href=https://andydote.co.uk/><link crossorigin=anonymous href=/assets/css/stylesheet.min.4ac25d88867f6882d86478d9b478a3d3efa1ed9e18f0bc5e432812301516cb28.css integrity="sha256-SsJdiIZ/aILYZHjZtHij0++h7Z4Y8LxeQygSMBUWyyg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/mermaid.min.725f44bd345b0a2a4043ca952b0863edd789e913cf0813a12bbdfe986fe87079.js integrity="sha256-cl9EvTRbCipAQ8qVKwhj7deJ6RPPCBOhK73+mG/ocHk="></script>
<script defer crossorigin=anonymous src=/js/tabs.min.2d019e9ee3574770ad4ecfd4f5f794739892195cb82a4e6383252b9074ab520c.js integrity="sha256-LQGenuNXR3CtTs/U9feUc5iSGVy4Kk5jgyUrkHSrUgw="></script>
<link rel=icon href=https://andydote.co.uk/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://andydote.co.uk/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://andydote.co.uk/favicon-32x32.png><link rel=apple-touch-icon href=https://andydote.co.uk/apple-touch-icon.png><link rel=mask-icon href=https://andydote.co.uk/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://andydote.co.uk/rss.xml><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Andy Dote"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://andydote.co.uk/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Andy Dote"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"Andy Dote","url":"https://andydote.co.uk","description":"","thumbnailUrl":"https://andydote.co.uk/favicon.ico","sameAs":[]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://andydote.co.uk accesskey=h title="Andy Dote (Alt + H)">Andy Dote</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://andydote.co.uk/archive title=Archive><span>Archive</span></a></li><li><a href=https://andydote.co.uk/talks title=Talks><span>Talks</span></a></li><li><a href=https://andydote.co.uk/notes title=Notes><span>Notes</span></a></li><li><a href=https://andydote.co.uk/tags title=Tags><span>Tags</span></a></li><li><a href=https://andydote.co.uk/contact title=Contact><span>Contact</span></a></li><li><a href=https://andydote.co.uk/rss.xml title=RSS><span>RSS</span></a></li></ul></nav></header><main class=main><article class=post-entry><header class=entry-header><h2>Serilog LogContext with StructureMap and SimpleInjector</h2></header><div class=entry-content><p>This article has been updated after feedback from .Net Junkie (Godfather of SimpleInjector). I now have a working SimpleInjector implementation of this, and am very appreciative of him for taking the time to help me :)
Serilog is one of the main set of libraries I use on a regular basis, and while it is great at logging, it does cause something in our codebase that I am less happy about....</p></div><footer class=entry-footer><span title='2017-07-28 00:00:00 +0000 UTC'>July 28, 2017</span>&nbsp;·&nbsp;4 min</footer><a class=entry-link aria-label="post link to Serilog LogContext with StructureMap and SimpleInjector" href=https://andydote.co.uk/2017/07/28/serilog-context-with-structuremap-and-simpleinjector/></a></article><article class=post-entry><header class=entry-header><h2>Getting Things Done</h2></header><div class=entry-content><p>I have been trying to actually be productive in my evenings and weekends, but I find I often end up not getting as much done as I feel I could have. I end up browsing imgur, reading slashdot, reddit, twitter, etc. rather than reading books, writing or anything else.
The first point doesn’t fit in anywhere else, but somewhere I saw a tip about keeping a house clean (I think):...</p></div><footer class=entry-footer><span title='2017-07-15 00:00:00 +0000 UTC'>July 15, 2017</span>&nbsp;·&nbsp;4 min</footer><a class=entry-link aria-label="post link to Getting Things Done" href=https://andydote.co.uk/2017/07/15/getting-things-done/></a></article><article class=post-entry><header class=entry-header><h2>Terraform, Kinesis Streams, Lambda and IAM problems</h2></header><div class=entry-content><p>I hit an problem the recently with Terraform, when I was trying to hook up a Lambda Trigger to a Kinesis stream. Both the lambda itself, and the stream creation succeeded within Terraform, but the trigger would just stay stuck on “creating…” for at least 5 minutes, before I got bored of waiting and killed the process. Several attempts at doing this had the same issue.
The code looked something along the lines of this:...</p></div><footer class=entry-footer><span title='2017-07-12 00:00:00 +0000 UTC'>July 12, 2017</span>&nbsp;·&nbsp;2 min</footer><a class=entry-link aria-label="post link to Terraform, Kinesis Streams, Lambda and IAM problems" href=https://andydote.co.uk/2017/07/12/terraform-kinesis-lambda-iam/></a></article><article class=post-entry><header class=entry-header><h2>S3 Multi-File upload with Terraform</h2></header><div class=entry-content><p>Hosting a static website with S3 is really easy, especially from terraform:
First off, we want a public readable S3 bucket policy, but we want to apply this only to one specific bucket. To achive that we can use Terraform’s template_file data block to merge in a value:
{ "Version": "2012-10-17", "Statement": [ { "Sid": "PublicReadGetObject", "Effect": "Allow", "Principal": "*", "Action": [ "s3:GetObject" ], "Resource": [ "arn:aws:s3:::${bucket_name}/*" ] } ] } As you can see the interpolation syntax is pretty much the same as how you use variables in terraform itself....</p></div><footer class=entry-footer><span title='2017-04-23 00:00:00 +0000 UTC'>April 23, 2017</span>&nbsp;·&nbsp;3 min</footer><a class=entry-link aria-label="post link to S3 Multi-File upload with Terraform" href=https://andydote.co.uk/2017/04/23/s3-multi-file-upload-terraform/></a></article><article class=post-entry><header class=entry-header><h2>Don't write Frameworks, write Libraries</h2></header><div class=entry-content><p>Programmers have a fascination with writing frameworks for some reason. There are many problems with writing frameworks:
Opinions Frameworks are opinionated, and will follow their author’s opinions on how things should be done, such as application structure, configuration, and methodology. The problem this gives is that not everyone will agree with the author, or their framework’s opinions. Even if they really like part of how the framework works, they might not like another part, or might not be able to rewrite their application to take advantage of the framework....</p></div><footer class=entry-footer><span title='2017-04-16 00:00:00 +0000 UTC'>April 16, 2017</span>&nbsp;·&nbsp;3 min</footer><a class=entry-link aria-label="post link to Don't write Frameworks, write Libraries" href=https://andydote.co.uk/2017/04/16/dont-write-frameworks-write-libraries/></a></article><article class=post-entry><header class=entry-header><h2>Using Terraform to setup AWS API-Gateway and Lambda</h2></header><div class=entry-content><p>I have been writing simple webhook type applications using Claudiajs, which in behind the scenes is using Aws’s Lambda and Api Gateway to make things happen, but I really wanted to understand what exactly it was doing for me, and how I could achieve the same results using Terraform.
The Lambda Function I started off with a simple NodeJS function, in a file called index.js
exports.handler = function(event, context, callback) { callback(null, { statusCode: '200', body: JSON....</p></div><footer class=entry-footer><span title='2017-03-17 00:00:00 +0000 UTC'>March 17, 2017</span>&nbsp;·&nbsp;4 min</footer><a class=entry-link aria-label="post link to Using Terraform to setup AWS API-Gateway and Lambda" href=https://andydote.co.uk/2017/03/17/terraform-aws-lambda-api-gateway/></a></article><article class=post-entry><header class=entry-header><h2>Unit Tests & Scratchpads</h2></header><div class=entry-content><p>Often when developing something, I have the need to check how a function or library works. For example, I always have to check for this question:
Does Directory.ListFiles(".\\temp\\") return a list of filenames, a list of relative filepaths, or a list of rooted filepaths?
It returns relative filepaths by the way:
Directory.ListFiles(".\\temp\\"); [ ".\temp\NuCrunch.Tests.csproj", ".\temp\packages.config", ".\temp\Scratchpad.cs" ] Now that there is a C# Interactive window in Visual Studio, you can use that to test the output....</p></div><footer class=entry-footer><span title='2017-01-21 00:00:00 +0000 UTC'>January 21, 2017</span>&nbsp;·&nbsp;2 min</footer><a class=entry-link aria-label="post link to Unit Tests & Scratchpads" href=https://andydote.co.uk/2017/01/21/unit-tests-and-scratchpads/></a></article><article class=post-entry><header class=entry-header><h2>Update all Docker images</h2></header><div class=entry-content><p>My work’s wifi is much faster than my 4G connection, so periodically I want to update all my docker images on my personal laptop while at work.
As I want to just set it going and then forget about it, I use the following one liner to do a docker pull against each image on my local machine:
docker images | grep -v REPOSITORY | awk '{print $1}'| xargs -L1 docker pull If you only want to fetch the versions you have the tags for:...</p></div><footer class=entry-footer><span title='2017-01-16 00:00:00 +0000 UTC'>January 16, 2017</span>&nbsp;·&nbsp;1 min</footer><a class=entry-link aria-label="post link to Update all Docker images" href=https://andydote.co.uk/2017/01/16/update-all-docker-images/></a></article><article class=post-entry><header class=entry-header><h2>MediatR and Magic</h2></header><div class=entry-content><p>Having recently watched Greg Young’s excellent talk on 8 Lines of Code I was thinking about how this kind of thinking applies to the mediator pattern, and specifically the MediatR implementation.
I have written about the advantages of CQRS with MediatR before, but having used it for a long time now, there are some parts which cause friction on a regular basis.
The problems Discoverability The biggest issue first. You have a controller with the following constructor:...</p></div><footer class=entry-footer><span title='2017-01-07 00:00:00 +0000 UTC'>January 7, 2017</span>&nbsp;·&nbsp;3 min</footer><a class=entry-link aria-label="post link to MediatR and Magic" href=https://andydote.co.uk/2017/01/07/mediatr-and-magic/></a></article><article class=post-entry><header class=entry-header><h2>Git Aliases</h2></header><div class=entry-content><p>Git is great, but creating some git aliases is a great way to make your usages even more efficient.
To add any of these you can either copy and paste into the [alias] section of your .gitconfig file or run git config --global alias.NAME 'COMMAND' replacing NAME with the alias to use, and COMMAND with what to run.
So without further ado, here are the ones I have created and use on a very regular basis....</p></div><footer class=entry-footer><span title='2017-01-06 00:00:00 +0000 UTC'>January 6, 2017</span>&nbsp;·&nbsp;2 min</footer><a class=entry-link aria-label="post link to Git Aliases" href=https://andydote.co.uk/2017/01/06/git-aliases/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://andydote.co.uk/page/7/>« Prev Page</a>
<a class=next href=https://andydote.co.uk/page/9/>Next Page »</a></nav></footer></main><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>