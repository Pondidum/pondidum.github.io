<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Vagrant in the world of Docker | Andy Dote</title><meta name=keywords content="docker,vagrant,testing"><meta name=description content="I gave a little talk at work recently on my use of Vagrant, what it is, and why it is still useful in a world full of Docker containers.
So, What is Vagrant? Vagrant is a product by Hashicorp, and is for scripting the creation of (temporary) virtual machines. It&rsquo;s pretty fast to create a virtual machine with too, as it creates them from a base image (known as a &ldquo;box&rdquo;."><meta name=author content><link rel=canonical href=https://andydote.co.uk/2017/10/22/vagrant-in-a-world-of-docker/><link crossorigin=anonymous href=/assets/css/stylesheet.min.b4e19c453811e60acfec1f00c15ac2be1c53f6ab90187e684358ce7faaf48bab.css integrity="sha256-tOGcRTgR5grP7B8AwVrCvhxT9quQGH5oQ1jOf6r0i6s=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.e85ad0406048e8176e1c7661b25d5c69297ddfe41dc4124cf75ecb99a4f7b3d1.js integrity="sha256-6FrQQGBI6BduHHZhsl1caSl93+QdxBJM917LmaT3s9E=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://andydote.co.uk/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://andydote.co.uk/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://andydote.co.uk/favicon-32x32.png><link rel=apple-touch-icon href=https://andydote.co.uk/apple-touch-icon.png><link rel=mask-icon href=https://andydote.co.uk/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Vagrant in the world of Docker"><meta property="og:description" content="I gave a little talk at work recently on my use of Vagrant, what it is, and why it is still useful in a world full of Docker containers.
So, What is Vagrant? Vagrant is a product by Hashicorp, and is for scripting the creation of (temporary) virtual machines. It&rsquo;s pretty fast to create a virtual machine with too, as it creates them from a base image (known as a &ldquo;box&rdquo;."><meta property="og:type" content="article"><meta property="og:url" content="https://andydote.co.uk/2017/10/22/vagrant-in-a-world-of-docker/"><meta property="article:section" content="post"><meta property="article:published_time" content="2017-10-22T00:00:00+00:00"><meta property="article:modified_time" content="2017-10-22T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Vagrant in the world of Docker"><meta name=twitter:description content="I gave a little talk at work recently on my use of Vagrant, what it is, and why it is still useful in a world full of Docker containers.
So, What is Vagrant? Vagrant is a product by Hashicorp, and is for scripting the creation of (temporary) virtual machines. It&rsquo;s pretty fast to create a virtual machine with too, as it creates them from a base image (known as a &ldquo;box&rdquo;."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://andydote.co.uk/post/"},{"@type":"ListItem","position":3,"name":"Vagrant in the world of Docker","item":"https://andydote.co.uk/2017/10/22/vagrant-in-a-world-of-docker/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Vagrant in the world of Docker","name":"Vagrant in the world of Docker","description":"I gave a little talk at work recently on my use of Vagrant, what it is, and why it is still useful in a world full of Docker containers.\nSo, What is Vagrant? Vagrant is a product by Hashicorp, and is for scripting the creation of (temporary) virtual machines. It\u0026rsquo;s pretty fast to create a virtual machine with too, as it creates them from a base image (known as a \u0026ldquo;box\u0026rdquo;.","keywords":["docker","vagrant","testing"],"articleBody":"I gave a little talk at work recently on my use of Vagrant, what it is, and why it is still useful in a world full of Docker containers.\nSo, What is Vagrant? Vagrant is a product by Hashicorp, and is for scripting the creation of (temporary) virtual machines. It’s pretty fast to create a virtual machine with too, as it creates them from a base image (known as a “box”.)\nIt also supports multiple virtualisation tools, such as VirtualBox and HyperV. If you are already using Packer to create AMIs for your Amazon infrastructure, you can modify your packerfile to also output a Vagrant box.\nAs an example, this is a really basic VagrantFile for creating a basic Ubuntu box:\nVagrant.configure(\"2\") do |config| config.vm.box = \"hashicorp/precise64\" config.vm.provider \"hyperv\" do |h| h.vmname = \"UbuntuPrecise\" h.cpus = 2 h.memory = 2048 end end To create the vm, on your command line just run\nvagrant up # creates the virtual machine vagrant ssh # ssh into the virtual machine vagrant destroy -f # destroy the virtual machine What can I use it for? Personally I have three main uses for a Vagrant boxes; Performance/Environment Testing, Cluster Testing, and Complete Environment Setup.\nPerformance and Environment Testing When I am developing a service which will be deployed to AWS, we tend to know rougly what kind of instance it will be deployed to, for example T2.Small. The code we develop local performs well…but that is on a development machine with anywhere from 4 to 16 CPU cores, and 8 to 32 GB of memory, and SSD storage. How do you know what performance will be like when running on a 2 core, 2048 MB machine in AWS?\nWhile you can’t emulate AWS exactly, it has certainly helped us tune applications - for example modifying how many parallel messages to handle when receiving from RabbitMQ (you can see about how to configure this in my previous post Concurrency in RabbitMQ.)\nCluster Testing When you want to test a service which will operate in a cluster, Vagrant comes to the rescue again - you can use the define block to setup multiple copies of the machine, and provide common provisioning:\nVagrant.configure(\"2\") do |config| config.vm.box = \"hashicorp/precise64\" config.vm.provision \"shell\", inline: \u003c","wordCount":"726","inLanguage":"en","datePublished":"2017-10-22T00:00:00Z","dateModified":"2017-10-22T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://andydote.co.uk/2017/10/22/vagrant-in-a-world-of-docker/"},"publisher":{"@type":"Organization","name":"Andy Dote","logo":{"@type":"ImageObject","url":"https://andydote.co.uk/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://andydote.co.uk accesskey=h title="Andy Dote (Alt + H)">Andy Dote</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://andydote.co.uk/archive title=Archive><span>Archive</span></a></li><li><a href=https://andydote.co.uk/talks title=Talks><span>Talks</span></a></li><li><a href=https://andydote.co.uk/notes title=Notes><span>Notes</span></a></li><li><a href=https://andydote.co.uk/tags title=Tags><span>Tags</span></a></li><li><a href=https://andydote.co.uk/contact title=Contact><span>Contact</span></a></li><li><a href=https://andydote.co.uk/rss.xml title=RSS><span>RSS</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Vagrant in the world of Docker</h1><div class=post-meta><span title='2017-10-22 00:00:00 +0000 UTC'>October 22, 2017</span>&nbsp;·&nbsp;4 min</div></header><div class=post-content><p>I gave a little talk at work recently on my use of Vagrant, what it is, and why it is still useful in a world full of Docker containers.</p><h2 id=so-what-is-vagrant>So, What is Vagrant?<a hidden class=anchor aria-hidden=true href=#so-what-is-vagrant>#</a></h2><p><a href>Vagrant</a> is a product by Hashicorp, and is for scripting the creation of (temporary) virtual machines. It&rsquo;s pretty fast to create a virtual machine with too, as it creates them from a base image (known as a &ldquo;box&rdquo;.)</p><p>It also supports multiple virtualisation tools, such as VirtualBox and HyperV. If you are already using <a href=https://www.packer.io>Packer</a> to create AMIs for your Amazon infrastructure, you can modify your packerfile to also output a Vagrant box.</p><p>As an example, this is a really basic VagrantFile for creating a basic Ubuntu box:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span><span style=color:#66d9ef>Vagrant</span><span style=color:#f92672>.</span>configure(<span style=color:#e6db74>&#34;2&#34;</span>) <span style=color:#66d9ef>do</span> <span style=color:#f92672>|</span>config<span style=color:#f92672>|</span>
</span></span><span style=display:flex><span>  config<span style=color:#f92672>.</span>vm<span style=color:#f92672>.</span>box <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;hashicorp/precise64&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  config<span style=color:#f92672>.</span>vm<span style=color:#f92672>.</span>provider <span style=color:#e6db74>&#34;hyperv&#34;</span> <span style=color:#66d9ef>do</span> <span style=color:#f92672>|</span>h<span style=color:#f92672>|</span>
</span></span><span style=display:flex><span>    h<span style=color:#f92672>.</span>vmname <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;UbuntuPrecise&#34;</span>
</span></span><span style=display:flex><span>    h<span style=color:#f92672>.</span>cpus <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>    h<span style=color:#f92672>.</span>memory <span style=color:#f92672>=</span> <span style=color:#ae81ff>2048</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><p>To create the vm, on your command line just run</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>vagrant up <span style=color:#75715e># creates the virtual machine</span>
</span></span><span style=display:flex><span>vagrant ssh <span style=color:#75715e># ssh into the virtual machine</span>
</span></span><span style=display:flex><span>vagrant destroy -f <span style=color:#75715e># destroy the virtual machine</span>
</span></span></code></pre></div><h2 id=what-can-i-use-it-for>What can I use it for?<a hidden class=anchor aria-hidden=true href=#what-can-i-use-it-for>#</a></h2><p>Personally I have three main uses for a Vagrant boxes; Performance/Environment Testing, Cluster Testing, and Complete Environment Setup.</p><h3 id=performance-and-environment-testing>Performance and Environment Testing<a hidden class=anchor aria-hidden=true href=#performance-and-environment-testing>#</a></h3><p>When I am developing a service which will be deployed to AWS, we tend to know rougly what kind of instance it will be deployed to, for example <code>T2.Small</code>. The code we develop local performs well&mldr;but that is on a development machine with anywhere from 4 to 16 CPU cores, and 8 to 32 GB of memory, and SSD storage. How do you know what performance will be like when running on a 2 core, 2048 MB machine in AWS?</p><p>While you can&rsquo;t emulate AWS exactly, it has certainly helped us tune applications - for example modifying how many parallel messages to handle when receiving from RabbitMQ (you can see about how to configure this in my previous post <a href=2017/10/11/masstransit-rabbitmq-concurrency-testing/>Concurrency in RabbitMQ</a>.)</p><h3 id=cluster-testing>Cluster Testing<a hidden class=anchor aria-hidden=true href=#cluster-testing>#</a></h3><p>When you want to test a service which will operate in a cluster, Vagrant comes to the rescue again - you can use the <code>define</code> block to setup multiple copies of the machine, and provide common provisioning:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span><span style=color:#66d9ef>Vagrant</span><span style=color:#f92672>.</span>configure(<span style=color:#e6db74>&#34;2&#34;</span>) <span style=color:#66d9ef>do</span> <span style=color:#f92672>|</span>config<span style=color:#f92672>|</span>
</span></span><span style=display:flex><span>  config<span style=color:#f92672>.</span>vm<span style=color:#f92672>.</span>box <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;hashicorp/precise64&#34;</span>
</span></span><span style=display:flex><span>  config<span style=color:#f92672>.</span>vm<span style=color:#f92672>.</span>provision <span style=color:#e6db74>&#34;shell&#34;</span>, <span style=color:#e6db74>inline</span>: <span style=color:#e6db74>&lt;&lt;SCRIPT
</span></span></span><span style=display:flex><span><span style=color:#e6db74></span>  <span style=color:#75715e># a bash script to setup your service might go here</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>SCRIPT</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  config<span style=color:#f92672>.</span>vm<span style=color:#f92672>.</span>provider <span style=color:#e6db74>&#34;hyperv&#34;</span> <span style=color:#66d9ef>do</span> <span style=color:#f92672>|</span>h<span style=color:#f92672>|</span>
</span></span><span style=display:flex><span>    h<span style=color:#f92672>.</span>vmname <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;UbuntuPrecise&#34;</span>
</span></span><span style=display:flex><span>    h<span style=color:#f92672>.</span>cpus <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    h<span style=color:#f92672>.</span>memory <span style=color:#f92672>=</span> <span style=color:#ae81ff>1024</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  config<span style=color:#f92672>.</span>vm<span style=color:#f92672>.</span>define <span style=color:#e6db74>&#34;first&#34;</span>
</span></span><span style=display:flex><span>  config<span style=color:#f92672>.</span>vm<span style=color:#f92672>.</span>define <span style=color:#e6db74>&#34;second&#34;</span>
</span></span><span style=display:flex><span>  config<span style=color:#f92672>.</span>vm<span style=color:#f92672>.</span>define <span style=color:#e6db74>&#34;third&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><p>If you want to do more configuration of your separate instances, you can provider a block to do so:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span>  config<span style=color:#f92672>.</span>vm<span style=color:#f92672>.</span>define <span style=color:#e6db74>&#34;third&#34;</span> <span style=color:#66d9ef>do</span> <span style=color:#f92672>|</span>third<span style=color:#f92672>|</span>
</span></span><span style=display:flex><span>    third<span style=color:#f92672>.</span>vm<span style=color:#f92672>.</span>provision <span style=color:#e6db74>&#34;shell&#34;</span>, <span style=color:#e6db74>inline</span>: <span style=color:#e6db74>&#34;./vagrant/boot-cluster.sh&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>end</span>
</span></span></code></pre></div><h3 id=complete-environment>Complete Environment<a hidden class=anchor aria-hidden=true href=#complete-environment>#</a></h3><p>If you&rsquo;re developing a microservice in an environment with many other microservies which it needs to interact with, it can be a pain to setup all the hosts and supporting infrastructure.</p><p>Instead, we can create a single base box which contains all of the setup and services, then each microservice can have a VagrantFile which is based off the base box, but also: stops the service you are developing, and starts the version which is located in the <code>/vagrant</code> share instead:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span><span style=color:#66d9ef>Vagrant</span><span style=color:#f92672>.</span>configure(<span style=color:#e6db74>&#34;2&#34;</span>) <span style=color:#66d9ef>do</span> <span style=color:#f92672>|</span>config<span style=color:#f92672>|</span>
</span></span><span style=display:flex><span>  config<span style=color:#f92672>.</span>vm<span style=color:#f92672>.</span>box <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;mycorp/complete-environment&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  config<span style=color:#f92672>.</span>vm<span style=color:#f92672>.</span>provider <span style=color:#e6db74>&#34;hyperv&#34;</span> <span style=color:#66d9ef>do</span> <span style=color:#f92672>|</span>h<span style=color:#f92672>|</span>
</span></span><span style=display:flex><span>    h<span style=color:#f92672>.</span>vmname <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;WhateverServiceEnvironment&#34;</span>
</span></span><span style=display:flex><span>    h<span style=color:#f92672>.</span>cpus <span style=color:#f92672>=</span> <span style=color:#ae81ff>4</span>
</span></span><span style=display:flex><span>    h<span style=color:#f92672>.</span>memory <span style=color:#f92672>=</span> <span style=color:#ae81ff>4096</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># replace-service is a script which stops/removes an existing service,</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># and installs/starts a replacement. it uses a convention which expects</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># a service to have a script at `/vagrant/&lt;name&gt;/bin/&lt;name&gt;.sh`</span>
</span></span><span style=display:flex><span>  config<span style=color:#f92672>.</span>vm<span style=color:#f92672>.</span>provision <span style=color:#e6db74>&#34;shell&#34;</span>, <span style=color:#e6db74>inline</span>: <span style=color:#e6db74>&#34;./replace-service.sh WhateverService&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><p>In this case, the <code>mycorp/complete-environment</code> box would have all the services installed and started, and also a script in the machine root which does all the work to replace a service with the one under development.</p><p>This base box could also be used to provide a complete testing environment too - just create a Vagrant file with no additional provisioning, and call <code>vagrant up</code>.</p><h2 id=couldnt-you-use-docker-for-this-instead>Couldn&rsquo;t you use Docker for this instead?<a hidden class=anchor aria-hidden=true href=#couldnt-you-use-docker-for-this-instead>#</a></h2><p>Well yes, you can user Docker&mldr;but for some tasks, this is just easier. We can also utilise Docker as both input and output for this; the base image could run docker internally to run all the services, or we could use a Packer script which would generate a Docker container of this setup <strong>and</strong> a vagrant box.</p><p>Just because Docker is the cool thing to be using these days, doesn&rsquo;t mean Vagrant doesn&rsquo;t have any uses any more. Far from it!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://andydote.co.uk/tags/docker/>docker</a></li><li><a href=https://andydote.co.uk/tags/vagrant/>vagrant</a></li><li><a href=https://andydote.co.uk/tags/testing/>testing</a></li></ul><nav class=paginav><a class=prev href=https://andydote.co.uk/2017/10/30/alarm-fatigue/><span class=title>« Prev Page</span><br><span>Alarm Fatigue</span></a>
<a class=next href=https://andydote.co.uk/2017/10/11/masstransit-rabbitmq-concurrency-testing/><span class=title>Next Page »</span><br><span>Testing RabbitMQ Concurrency in MassTransit</span></a></nav></footer></article></main><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>