<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Creating Non resizable controls | Andy Dote</title><meta name=keywords content="design,controls,c#"><meta name=description content="A control I was recently developing required being non-resizable when on the form. When the application is running, this would be easy enough, just set its AutoSize property to False, and don&rsquo;t dock the control.
However, this leaves the problem of resizing in the designer. You could override the resize event of the control, but for reasons outlined earlier, such as flickering, I decided against this.
Somewhere on the internet (where else&mldr;?"><meta name=author content><link rel=canonical href=https://andydote.co.uk/2008/04/13/creating-non-resizable-controls/><link crossorigin=anonymous href=/assets/css/stylesheet.min.b4e19c453811e60acfec1f00c15ac2be1c53f6ab90187e684358ce7faaf48bab.css integrity="sha256-tOGcRTgR5grP7B8AwVrCvhxT9quQGH5oQ1jOf6r0i6s=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.e85ad0406048e8176e1c7661b25d5c69297ddfe41dc4124cf75ecb99a4f7b3d1.js integrity="sha256-6FrQQGBI6BduHHZhsl1caSl93+QdxBJM917LmaT3s9E=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://andydote.co.uk/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://andydote.co.uk/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://andydote.co.uk/favicon-32x32.png><link rel=apple-touch-icon href=https://andydote.co.uk/apple-touch-icon.png><link rel=mask-icon href=https://andydote.co.uk/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Creating Non resizable controls"><meta property="og:description" content="A control I was recently developing required being non-resizable when on the form. When the application is running, this would be easy enough, just set its AutoSize property to False, and don&rsquo;t dock the control.
However, this leaves the problem of resizing in the designer. You could override the resize event of the control, but for reasons outlined earlier, such as flickering, I decided against this.
Somewhere on the internet (where else&mldr;?"><meta property="og:type" content="article"><meta property="og:url" content="https://andydote.co.uk/2008/04/13/creating-non-resizable-controls/"><meta property="article:section" content="post"><meta property="article:published_time" content="2008-04-13T00:00:00+00:00"><meta property="article:modified_time" content="2008-04-13T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Creating Non resizable controls"><meta name=twitter:description content="A control I was recently developing required being non-resizable when on the form. When the application is running, this would be easy enough, just set its AutoSize property to False, and don&rsquo;t dock the control.
However, this leaves the problem of resizing in the designer. You could override the resize event of the control, but for reasons outlined earlier, such as flickering, I decided against this.
Somewhere on the internet (where else&mldr;?"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://andydote.co.uk/post/"},{"@type":"ListItem","position":3,"name":"Creating Non resizable controls","item":"https://andydote.co.uk/2008/04/13/creating-non-resizable-controls/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Creating Non resizable controls","name":"Creating Non resizable controls","description":"A control I was recently developing required being non-resizable when on the form. When the application is running, this would be easy enough, just set its AutoSize property to False, and don\u0026rsquo;t dock the control.\nHowever, this leaves the problem of resizing in the designer. You could override the resize event of the control, but for reasons outlined earlier, such as flickering, I decided against this.\nSomewhere on the internet (where else\u0026hellip;?","keywords":["design","controls","c#"],"articleBody":"A control I was recently developing required being non-resizable when on the form. When the application is running, this would be easy enough, just set its AutoSize property to False, and don’t dock the control.\nHowever, this leaves the problem of resizing in the designer. You could override the resize event of the control, but for reasons outlined earlier, such as flickering, I decided against this.\nSomewhere on the internet (where else…?) I can upon the idea of using a custom designer. The ControlDesigner class allows us to specify the designer behaviours of the control it is attached to.\nTo do this, we create Friend Class, and make it inherit from System.Windows.Forms.Design.ControlDesigner, then override the SelectionRules property:\nFriend Class NonResizableDesigner Inherits System.Windows.Forms.Design.ControlDesigner Public Overrides ReadOnly Property SelectionRules() As System.Windows.Forms.Design.SelectionRules Get Return MyBase.SelectionRules End Get End Property End Class As SelectionRules is a FlagsEnum, to remove the particular functionality from it, we have to NOT the flag we want to remove, then AND it with the existing flags. In other words, take the controls existing flags and add And Not SelectionRules.AllSizeable to it. So the entire designer class becomes this:\nFriend Class NonResizableDesigner Inherits System.Windows.Forms.Design.ControlDesigner Public Overrides ReadOnly Property SelectionRules() As System.Windows.Forms.Design.SelectionRules Get Return MyBase.SelectionRules And Not SelectionRules.AllSizeable End Get End Property End Class Simple huh? Now all we need to do is apply it to the control that we wish to be non-resizable, which just takes one attribute on the class:\n_ Public Class Foo Public Function Bar() Return False End Function End Class Now when this control is viewed in the designer, it has the same outline as a label when the AutoSize property is set to true. You can move the control to your hearts content, but no resizing.\n","wordCount":"292","inLanguage":"en","datePublished":"2008-04-13T00:00:00Z","dateModified":"2008-04-13T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://andydote.co.uk/2008/04/13/creating-non-resizable-controls/"},"publisher":{"@type":"Organization","name":"Andy Dote","logo":{"@type":"ImageObject","url":"https://andydote.co.uk/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://andydote.co.uk accesskey=h title="Andy Dote (Alt + H)">Andy Dote</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://andydote.co.uk/archive title=Archive><span>Archive</span></a></li><li><a href=https://andydote.co.uk/talks title=Talks><span>Talks</span></a></li><li><a href=https://andydote.co.uk/notes title=Notes><span>Notes</span></a></li><li><a href=https://andydote.co.uk/tags title=Tags><span>Tags</span></a></li><li><a href=https://andydote.co.uk/contact title=Contact><span>Contact</span></a></li><li><a href=https://andydote.co.uk/rss.xml title=RSS><span>RSS</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Creating Non resizable controls</h1><div class=post-meta><span title='2008-04-13 00:00:00 +0000 UTC'>April 13, 2008</span>&nbsp;·&nbsp;2 min</div></header><div class=post-content><p>A control I was recently developing required being non-resizable when on the form. When the application is running, this would be easy enough, just set its <code>AutoSize</code> property to False, and don&rsquo;t dock the control.</p><p>However, this leaves the problem of resizing in the designer. You could override the resize event of the control, but for <a href="http://www.stormbase.net/index.php?id=32">reasons outlined earlier</a>, such as flickering, I decided against this.</p><p>Somewhere on the internet (where else&mldr;?) I can upon the idea of using a custom designer. The <code>ControlDesigner</code> class allows us to specify the designer behaviours of the control it is attached to.</p><p>To do this, we create Friend Class, and make it inherit from <code>System.Windows.Forms.Design.ControlDesigner</code>, then override the <code>SelectionRules</code> property:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vb data-lang=vb><span style=display:flex><span><span style=color:#66d9ef>Friend</span> <span style=color:#66d9ef>Class</span> <span style=color:#a6e22e>NonResizableDesigner</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>Inherits</span> System.Windows.Forms.Design.ControlDesigner
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>Public</span> <span style=color:#66d9ef>Overrides</span> <span style=color:#66d9ef>ReadOnly</span> <span style=color:#66d9ef>Property</span> <span style=color:#a6e22e>SelectionRules</span>() <span style=color:#f92672>As</span> System.Windows.Forms.Design.SelectionRules
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>Get</span>
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>Return</span> <span style=color:#66d9ef>MyBase</span>.SelectionRules
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Get</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Property</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Class</span>
</span></span></code></pre></div><p>As SelectionRules is a FlagsEnum, to remove the particular functionality from it, we have to NOT the flag we want to remove, then AND it with the existing flags. In other words, take the controls existing flags and add <code>And Not SelectionRules.AllSizeable</code> to it. So the entire designer class becomes this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vb data-lang=vb><span style=display:flex><span><span style=color:#66d9ef>Friend</span> <span style=color:#66d9ef>Class</span> <span style=color:#a6e22e>NonResizableDesigner</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>Inherits</span> System.Windows.Forms.Design.ControlDesigner
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>Public</span> <span style=color:#66d9ef>Overrides</span> <span style=color:#66d9ef>ReadOnly</span> <span style=color:#66d9ef>Property</span> <span style=color:#a6e22e>SelectionRules</span>() <span style=color:#f92672>As</span> System.Windows.Forms.Design.SelectionRules
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>Get</span>
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>Return</span> <span style=color:#66d9ef>MyBase</span>.SelectionRules <span style=color:#f92672>And</span> <span style=color:#66d9ef>Not</span> SelectionRules.AllSizeable
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Get</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Property</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Class</span>
</span></span></code></pre></div><p>Simple huh? Now all we need to do is apply it to the control that we wish to be non-resizable, which just takes one attribute on the class:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vb data-lang=vb><span style=display:flex><span><span style=color:#a6e22e>&lt;Designer(GetType(NonResizableDesigner))&gt;</span> _
</span></span><span style=display:flex><span><span style=color:#66d9ef>Public</span> <span style=color:#66d9ef>Class</span> <span style=color:#a6e22e>Foo</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>Public</span> <span style=color:#66d9ef>Function</span> <span style=color:#a6e22e>Bar</span>()
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>Return</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Function</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Class</span>
</span></span></code></pre></div><p>Now when this control is viewed in the designer, it has the same outline as a label when the AutoSize property is set to true. You can move the control to your hearts content, but no resizing.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://andydote.co.uk/tags/design/>design</a></li><li><a href=https://andydote.co.uk/tags/controls/>controls</a></li><li><a href=https://andydote.co.uk/tags/c#/>c#</a></li></ul><nav class=paginav><a class=prev href=https://andydote.co.uk/2008/04/17/conflicting-unrelated-options-alps-trackpad-vs-microsoft-mouse/><span class=title>« Prev Page</span><br><span>Conflicting Unrelated Options: Alps Trackpad vs Microsoft Mouse</span></a>
<a class=next href=https://andydote.co.uk/2008/04/08/vaio-event-service-and-vista/><span class=title>Next Page »</span><br><span>Vaio Event Service and Vista</span></a></nav></footer></article></main><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>