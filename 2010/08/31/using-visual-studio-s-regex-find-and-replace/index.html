<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Using Visual Studio's Regex Find and Replace | Andy Dote</title><meta name=keywords content="c#"><meta name=description content="The Visual Studio Find and Replace dialog is often overlooked, and when parts of it are looked at (Regex searching) it often gets a bad rep. Sure it doesn&rsquo;t implement all of the Regex syntax (non greedy search springs to mind), but that&rsquo;s not to say it isn&rsquo;t useful.
For instance, I was working on some code that involved a Model View Presenter type style, but used Subroutines (void methods) rather than WriteOnly properties for brevity (in C# you can do a Set only property in 1 line, VB it takes 5)."><meta name=author content><link rel=canonical href=https://andydote.co.uk/2010/08/31/using-visual-studio-s-regex-find-and-replace/><link crossorigin=anonymous href=/assets/css/stylesheet.min.b4e19c453811e60acfec1f00c15ac2be1c53f6ab90187e684358ce7faaf48bab.css integrity="sha256-tOGcRTgR5grP7B8AwVrCvhxT9quQGH5oQ1jOf6r0i6s=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.e85ad0406048e8176e1c7661b25d5c69297ddfe41dc4124cf75ecb99a4f7b3d1.js integrity="sha256-6FrQQGBI6BduHHZhsl1caSl93+QdxBJM917LmaT3s9E=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://andydote.co.uk/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://andydote.co.uk/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://andydote.co.uk/favicon-32x32.png><link rel=apple-touch-icon href=https://andydote.co.uk/apple-touch-icon.png><link rel=mask-icon href=https://andydote.co.uk/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Using Visual Studio's Regex Find and Replace"><meta property="og:description" content="The Visual Studio Find and Replace dialog is often overlooked, and when parts of it are looked at (Regex searching) it often gets a bad rep. Sure it doesn&rsquo;t implement all of the Regex syntax (non greedy search springs to mind), but that&rsquo;s not to say it isn&rsquo;t useful.
For instance, I was working on some code that involved a Model View Presenter type style, but used Subroutines (void methods) rather than WriteOnly properties for brevity (in C# you can do a Set only property in 1 line, VB it takes 5)."><meta property="og:type" content="article"><meta property="og:url" content="https://andydote.co.uk/2010/08/31/using-visual-studio-s-regex-find-and-replace/"><meta property="article:section" content="post"><meta property="article:published_time" content="2010-08-31T00:00:00+00:00"><meta property="article:modified_time" content="2010-08-31T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Using Visual Studio's Regex Find and Replace"><meta name=twitter:description content="The Visual Studio Find and Replace dialog is often overlooked, and when parts of it are looked at (Regex searching) it often gets a bad rep. Sure it doesn&rsquo;t implement all of the Regex syntax (non greedy search springs to mind), but that&rsquo;s not to say it isn&rsquo;t useful.
For instance, I was working on some code that involved a Model View Presenter type style, but used Subroutines (void methods) rather than WriteOnly properties for brevity (in C# you can do a Set only property in 1 line, VB it takes 5)."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://andydote.co.uk/post/"},{"@type":"ListItem","position":3,"name":"Using Visual Studio's Regex Find and Replace","item":"https://andydote.co.uk/2010/08/31/using-visual-studio-s-regex-find-and-replace/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Using Visual Studio's Regex Find and Replace","name":"Using Visual Studio\u0027s Regex Find and Replace","description":"The Visual Studio Find and Replace dialog is often overlooked, and when parts of it are looked at (Regex searching) it often gets a bad rep. Sure it doesn\u0026rsquo;t implement all of the Regex syntax (non greedy search springs to mind), but that\u0026rsquo;s not to say it isn\u0026rsquo;t useful.\nFor instance, I was working on some code that involved a Model View Presenter type style, but used Subroutines (void methods) rather than WriteOnly properties for brevity (in C# you can do a Set only property in 1 line, VB it takes 5).","keywords":["c#"],"articleBody":"The Visual Studio Find and Replace dialog is often overlooked, and when parts of it are looked at (Regex searching) it often gets a bad rep. Sure it doesn’t implement all of the Regex syntax (non greedy search springs to mind), but that’s not to say it isn’t useful.\nFor instance, I was working on some code that involved a Model View Presenter type style, but used Subroutines (void methods) rather than WriteOnly properties for brevity (in C# you can do a Set only property in 1 line, VB it takes 5). As the View is doing nothing other than assigning labels from these “Setters” who cares how many lines it takes?\nA quick breakdown of the parts of the expressions used:\nFinding: {}\t//Tag an expression, used in replacements. Numbered sequentially from 1, not 0. (.*)\t//Any character, any number of times, as many as possible. \\\t//escape character, allows us to search for a literal '.' or other Regex used symbol. Replacing: \\1\t//The content of a tagged expression. \\n\t//New line \\t\t//Tab (although after running all these find and replaces, a quick {CTRL+E, CTRL+D} (format document) does most of the tidying for you). So we start with the Interface:\nPublic Interface IProcessDetailsView Sub FileID(ByVal value As Integer) Sub SubmittedBy(ByVal value As String) Sub ReceivedDate(ByVal value As DateTime) //... End Interface So in the find and replace dialog I enter the following:\nFind what: Sub {(.*)}\\(ByVal value As {(.*)}\\) Replace with: WriteOnly Property \\1() As \\2 The interface definition now changes to this:\nPublic Interface IProcessDetailsView WriteOnly Property FileID() As Integer WriteOnly Property SubmittedBy() As String WriteOnly Property ReceivedDate() As DateTime //... End Interface Not too difficult right? Good. Now onto the View’s methods:\nPublic Class ProcessDetails Implements IProcessDetailsView Public Sub FileID(ByVal value As Integer) Implements IProcessDetailsView.FileID lblFileID.Text = value.ToString End Sub Public Sub SubmittedBy(ByVal value As String) Implements IProcessDetailsView.SubmittedBy lblAccountName.Text = value End Sub //... End Class Into the find and replace dialog:\nFind what: Public Sub {(.*)}\\(ByVal value As {(.*)}\\) Implements IProcessDetailsView\\.(.*) Replace with: Public WriteOnly Property \\1() As \\2 Implements IProcessDetailsView.\\1\\n\\t\\tSet(ByVal value As \\2) Find what: End Sub Replace with: End Set\\n\\tEnd Property You could do this with one expression, although I have found its far less hassle to use two find and replace runs rather than trying to find new lines etc\nPublic Class ProcessDetails Implements IProcessDetailsView Public WriteOnly Property FileID() As Integer Implements IProcessDetailsView.FileID Set(ByVal value As Integer) lblFileID.Text = value.ToString End Set End Property Public WriteOnly Property SubmittedBy() As String Implements IProcessDetailsView.SubmittedBy Set(ByVal value As String) lblAccountName.Text = value End Set End Property End Class Now the main reason for this change was the presenter code, which doesn’t sit right with me. At a glance, am I expecting something to be calculated or what?\nPublic Sub Display(ByVal processHistory As ICVProcessHistory) _view.FileID(processHistory.FileID) _view.SubmittedBy(processHistory.AccountName) //... End Sub Find and replace dialog again:\nFind what: \\_view\\.{(.*)}\\({(.*)}\\.{(.*)}\\) Replace with: _view.\\1 = \\2.\\3 Which gives us this:\nPublic Sub Display(ByVal processHistory As ICVProcessHistory) _view.FileID = processHistory.FileID _view.SubmittedBy = processHistory.AccountName //... End Sub Much better in my opinion.\n","wordCount":"511","inLanguage":"en","datePublished":"2010-08-31T00:00:00Z","dateModified":"2010-08-31T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://andydote.co.uk/2010/08/31/using-visual-studio-s-regex-find-and-replace/"},"publisher":{"@type":"Organization","name":"Andy Dote","logo":{"@type":"ImageObject","url":"https://andydote.co.uk/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://andydote.co.uk accesskey=h title="Andy Dote (Alt + H)">Andy Dote</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://andydote.co.uk/archive title=Archive><span>Archive</span></a></li><li><a href=https://andydote.co.uk/talks title=Talks><span>Talks</span></a></li><li><a href=https://andydote.co.uk/notes title=Notes><span>Notes</span></a></li><li><a href=https://andydote.co.uk/tags title=Tags><span>Tags</span></a></li><li><a href=https://andydote.co.uk/contact title=Contact><span>Contact</span></a></li><li><a href=https://andydote.co.uk/rss.xml title=RSS><span>RSS</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Using Visual Studio's Regex Find and Replace</h1><div class=post-meta><span title='2010-08-31 00:00:00 +0000 UTC'>August 31, 2010</span>&nbsp;·&nbsp;3 min</div></header><div class=post-content><p>The Visual Studio Find and Replace dialog is often overlooked, and when parts of it are looked at (Regex searching) it often gets a bad rep. Sure it doesn&rsquo;t implement all of the Regex syntax (non greedy search springs to mind), but that&rsquo;s not to say it isn&rsquo;t useful.</p><p>For instance, I was working on some code that involved a Model View Presenter type style, but used Subroutines (void methods) rather than WriteOnly properties for brevity (in C# you can do a Set only property in 1 line, VB it takes 5). As the View is doing nothing other than assigning labels from these &ldquo;Setters&rdquo; who cares how many lines it takes?</p><p>A quick breakdown of the parts of the expressions used:</p><pre><code>Finding:
{}		//Tag an expression, used in replacements.  Numbered sequentially from 1, not 0.
(.*)	//Any character, any number of times, as many as possible.
\		//escape character, allows us to search for a literal '.' or other Regex used symbol.

Replacing:
\1		//The content of a tagged expression.
\n		//New line
\t		//Tab (although after running all these find and replaces, a quick {CTRL+E, CTRL+D} (format document) does most of the tidying for you).
</code></pre><p>So we start with the Interface:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vb data-lang=vb><span style=display:flex><span><span style=color:#66d9ef>Public</span> <span style=color:#66d9ef>Interface</span> IProcessDetailsView
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>Sub</span> <span style=color:#a6e22e>FileID</span>(<span style=color:#66d9ef>ByVal</span> value <span style=color:#f92672>As</span> <span style=color:#66d9ef>Integer</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>Sub</span> <span style=color:#a6e22e>SubmittedBy</span>(<span style=color:#66d9ef>ByVal</span> value <span style=color:#f92672>As</span> <span style=color:#66d9ef>String</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>Sub</span> <span style=color:#a6e22e>ReceivedDate</span>(<span style=color:#66d9ef>ByVal</span> value <span style=color:#f92672>As</span> DateTime)
</span></span><span style=display:flex><span>	<span style=color:#f92672>//</span>...
</span></span><span style=display:flex><span><span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Interface</span>
</span></span></code></pre></div><p>So in the find and replace dialog I enter the following:</p><pre><code>Find what:
Sub {(.*)}\(ByVal value As {(.*)}\)

Replace with:
WriteOnly Property \1() As \2
</code></pre><p>The interface definition now changes to this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vb data-lang=vb><span style=display:flex><span><span style=color:#66d9ef>Public</span> <span style=color:#66d9ef>Interface</span> IProcessDetailsView
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>WriteOnly</span> <span style=color:#66d9ef>Property</span> <span style=color:#a6e22e>FileID</span>() <span style=color:#f92672>As</span> <span style=color:#66d9ef>Integer</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>WriteOnly</span> <span style=color:#66d9ef>Property</span> <span style=color:#a6e22e>SubmittedBy</span>() <span style=color:#f92672>As</span> <span style=color:#66d9ef>String</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>WriteOnly</span> <span style=color:#66d9ef>Property</span> <span style=color:#a6e22e>ReceivedDate</span>() <span style=color:#f92672>As</span> DateTime
</span></span><span style=display:flex><span>	<span style=color:#f92672>//</span>...
</span></span><span style=display:flex><span><span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Interface</span>
</span></span></code></pre></div><p>Not too difficult right? Good. Now onto the View&rsquo;s methods:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vb data-lang=vb><span style=display:flex><span><span style=color:#66d9ef>Public</span> <span style=color:#66d9ef>Class</span> <span style=color:#a6e22e>ProcessDetails</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>Implements</span> IProcessDetailsView
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>Public</span> <span style=color:#66d9ef>Sub</span> <span style=color:#a6e22e>FileID</span>(<span style=color:#66d9ef>ByVal</span> value <span style=color:#f92672>As</span> <span style=color:#66d9ef>Integer</span>) <span style=color:#66d9ef>Implements</span> IProcessDetailsView.FileID
</span></span><span style=display:flex><span>		lblFileID.Text <span style=color:#f92672>=</span> value.ToString
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Sub</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>Public</span> <span style=color:#66d9ef>Sub</span> <span style=color:#a6e22e>SubmittedBy</span>(<span style=color:#66d9ef>ByVal</span> value <span style=color:#f92672>As</span> <span style=color:#66d9ef>String</span>) <span style=color:#66d9ef>Implements</span> IProcessDetailsView.SubmittedBy
</span></span><span style=display:flex><span>		lblAccountName.Text <span style=color:#f92672>=</span> value
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Sub</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>//</span>...
</span></span><span style=display:flex><span><span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Class</span>
</span></span></code></pre></div><p>Into the find and replace dialog:</p><pre><code>Find what:
Public Sub {(.*)}\(ByVal value As {(.*)}\) Implements IProcessDetailsView\.(.*)

Replace with:
Public WriteOnly Property \1() As \2 Implements IProcessDetailsView.\1\n\t\tSet(ByVal value As \2)

Find what:
End Sub

Replace with:
End Set\n\tEnd Property
</code></pre><p>You could do this with one expression, although I have found its far less hassle to use two find and replace runs rather than trying to find new lines etc</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vb data-lang=vb><span style=display:flex><span><span style=color:#66d9ef>Public</span> <span style=color:#66d9ef>Class</span> <span style=color:#a6e22e>ProcessDetails</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>Implements</span> IProcessDetailsView
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>Public</span> <span style=color:#66d9ef>WriteOnly</span> <span style=color:#66d9ef>Property</span> <span style=color:#a6e22e>FileID</span>() <span style=color:#f92672>As</span> <span style=color:#66d9ef>Integer</span> <span style=color:#66d9ef>Implements</span> IProcessDetailsView.FileID
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>Set</span>(<span style=color:#66d9ef>ByVal</span> value <span style=color:#f92672>As</span> <span style=color:#66d9ef>Integer</span>)
</span></span><span style=display:flex><span>			lblFileID.Text <span style=color:#f92672>=</span> value.ToString
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Set</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Property</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>Public</span> <span style=color:#66d9ef>WriteOnly</span> <span style=color:#66d9ef>Property</span> <span style=color:#a6e22e>SubmittedBy</span>() <span style=color:#f92672>As</span> <span style=color:#66d9ef>String</span> <span style=color:#66d9ef>Implements</span> IProcessDetailsView.SubmittedBy
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>Set</span>(<span style=color:#66d9ef>ByVal</span> value <span style=color:#f92672>As</span> <span style=color:#66d9ef>String</span>)
</span></span><span style=display:flex><span>			lblAccountName.Text <span style=color:#f92672>=</span> value
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Set</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Property</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Class</span>
</span></span></code></pre></div><p>Now the main reason for this change was the presenter code, which doesn&rsquo;t sit right with me. At a glance, am I expecting something to be calculated or what?</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vb data-lang=vb><span style=display:flex><span><span style=color:#66d9ef>Public</span> <span style=color:#66d9ef>Sub</span> <span style=color:#a6e22e>Display</span>(<span style=color:#66d9ef>ByVal</span> processHistory <span style=color:#f92672>As</span> ICVProcessHistory)
</span></span><span style=display:flex><span>	_view.FileID(processHistory.FileID)
</span></span><span style=display:flex><span>	_view.SubmittedBy(processHistory.AccountName)
</span></span><span style=display:flex><span>	<span style=color:#f92672>//</span>...
</span></span><span style=display:flex><span><span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Sub</span>
</span></span></code></pre></div><p>Find and replace dialog again:</p><pre><code>Find what:
\_view\.{(.*)}\({(.*)}\.{(.*)}\)

Replace with:
_view.\1 = \2.\3
</code></pre><p>Which gives us this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vb data-lang=vb><span style=display:flex><span><span style=color:#66d9ef>Public</span> <span style=color:#66d9ef>Sub</span> <span style=color:#a6e22e>Display</span>(<span style=color:#66d9ef>ByVal</span> processHistory <span style=color:#f92672>As</span> ICVProcessHistory)
</span></span><span style=display:flex><span>	_view.FileID <span style=color:#f92672>=</span> processHistory.FileID
</span></span><span style=display:flex><span>	_view.SubmittedBy <span style=color:#f92672>=</span> processHistory.AccountName
</span></span><span style=display:flex><span>	<span style=color:#f92672>//</span>...
</span></span><span style=display:flex><span><span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Sub</span>
</span></span></code></pre></div><p>Much better in my opinion.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://andydote.co.uk/tags/c#/>c#</a></li></ul><nav class=paginav><a class=prev href=https://andydote.co.uk/2010/09/08/to-mutate-or-not-to-mutate/><span class=title>« Prev Page</span><br><span>To mutate or not to mutate</span></a>
<a class=next href=https://andydote.co.uk/2010/03/24/multilining-if-statements-conditions-should-be-banned-now/><span class=title>Next Page »</span><br><span>Multilining If statements conditions should be banned. now.</span></a></nav></footer></article></main><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>