<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | Andy Dote</title><meta name=keywords content><meta name=description content="Posts - Andy Dote"><meta name=author content><link rel=canonical href=https://andydote.co.uk/post/><link crossorigin=anonymous href=/assets/css/stylesheet.min.4ac25d88867f6882d86478d9b478a3d3efa1ed9e18f0bc5e432812301516cb28.css integrity="sha256-SsJdiIZ/aILYZHjZtHij0++h7Z4Y8LxeQygSMBUWyyg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/mermaid.min.725f44bd345b0a2a4043ca952b0863edd789e913cf0813a12bbdfe986fe87079.js integrity="sha256-cl9EvTRbCipAQ8qVKwhj7deJ6RPPCBOhK73+mG/ocHk="></script>
<script defer crossorigin=anonymous src=/js/tabs.min.2d019e9ee3574770ad4ecfd4f5f794739892195cb82a4e6383252b9074ab520c.js integrity="sha256-LQGenuNXR3CtTs/U9feUc5iSGVy4Kk5jgyUrkHSrUgw="></script>
<link rel=icon href=https://andydote.co.uk/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://andydote.co.uk/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://andydote.co.uk/favicon-32x32.png><link rel=apple-touch-icon href=https://andydote.co.uk/apple-touch-icon.png><link rel=mask-icon href=https://andydote.co.uk/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://andydote.co.uk/post/rss.xml><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Posts"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://andydote.co.uk/post/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://andydote.co.uk/post/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://andydote.co.uk accesskey=h title="Andy Dote (Alt + H)">Andy Dote</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://andydote.co.uk/archive title=Archive><span>Archive</span></a></li><li><a href=https://andydote.co.uk/talks title=Talks><span>Talks</span></a></li><li><a href=https://andydote.co.uk/notes title=Notes><span>Notes</span></a></li><li><a href=https://andydote.co.uk/tags title=Tags><span>Tags</span></a></li><li><a href=https://andydote.co.uk/contact title=Contact><span>Contact</span></a></li><li><a href=https://andydote.co.uk/rss.xml title=RSS><span>RSS</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2>Testing Immutable Infrastructure</h2></header><div class=entry-content><p>In my previous post, I glossed over one of the most important and useful parts of Immutable Infrastructure: Testability. There are many kinds of tests we can write for our infrastructure, but they should all be focused on the machine/service and maybe it’s nearest dependencies, not the entire system.
While this post focuses on testing a full machine (both locally in a VM, and remotely as an Amazon EC2 instance), it is also possible to do most of the same kind of tests against a Docker container....</p></div><footer class=entry-footer><span title='2019-01-01 00:00:00 +0000 UTC'>January 1, 2019</span>&nbsp;·&nbsp;17 min</footer><a class=entry-link aria-label="post link to Testing Immutable Infrastructure" href=https://andydote.co.uk/2019/01/01/immutable-infra/></a></article><article class=post-entry><header class=entry-header><h2>Code-free tracing with LogStash and Jaeger</h2></header><div class=entry-content><p>I wanted to show request charts (similar to the network tab in firefox) for requests across our microservices but wanted to do so in the least invasive way possible.
We already use LogStash to collect logs from multiple hosts (via FileBeat) and forward them on to ElasticSearch, so perhaps I can do something to also output from LogStash to a tracing service.
There are a number of tracing services available (AppDash, Jaeger, Zipkin), but unfortunately LogStash doesn’t have plugins for any of them or for OpenTracing....</p></div><footer class=entry-footer><span title='2018-12-22 00:00:00 +0000 UTC'>December 22, 2018</span>&nbsp;·&nbsp;12 min</footer><a class=entry-link aria-label="post link to Code-free tracing with LogStash and Jaeger" href=https://andydote.co.uk/2018/12/22/serilog-elk-jaeger/></a></article><article class=post-entry><header class=entry-header><h2>Against SemVer</h2></header><div class=entry-content><p>Well, for Applications & Services at least. For libraries, SemVer is the way to go, assuming you can agree on what a breaking change is defined as.
But when it comes to Applications (or SaaS products, websites, etc.) SemVer starts to break down. The problem starts with the most obvious: What is a breaking change? How about a minor change?
What’s in a change? For example, if we were to change the UI of a web application, which caused no backend changes, from the user perspective it is probably a breaking change, but not from the developers perspective....</p></div><footer class=entry-footer><span title='2018-12-16 00:00:00 +0000 UTC'>December 16, 2018</span>&nbsp;·&nbsp;3 min</footer><a class=entry-link aria-label="post link to Against SemVer" href=https://andydote.co.uk/2018/12/16/against-semver/></a></article><article class=post-entry><header class=entry-header><h2>Stopping Caring...</h2></header><div class=entry-content><p>…about GitHub open source commit streak.
This is, I think, partially triggered by Marc Gravell’s post. I currently have had a GitHub commit streak going on 1878 days. The other night I realised, that I don’t care about it any more, and more so, I’m not sure why I did to start with.
I didn’t even mean to start doing it. I just noticed one day that I had done something every day for a couple of weeks, and vaguely wondered how long I could keep that up for....</p></div><footer class=entry-footer><span title='2018-12-08 00:00:00 +0000 UTC'>December 8, 2018</span>&nbsp;·&nbsp;3 min</footer><a class=entry-link aria-label="post link to Stopping Caring..." href=https://andydote.co.uk/2018/12/08/stopping-caring/></a></article><article class=post-entry><header class=entry-header><h2>Microservices or Components</h2></header><div class=entry-content><p>One of the reasons people list for using MicroServices is that it helps enforce separation of concerns. This is usually achieved by adding a network boundary between the services. While this is useful, it’s not without costs; namely that you’ve added a set of new failure modes: the network. We can achieve the same separation of concerns within the same codebase if we put our minds to it. In fact, this is what Simon Brown calls a Modular Monolith, and DHH calls the Majestic Monolith....</p></div><footer class=entry-footer><span title='2018-10-28 00:00:00 +0000 UTC'>October 28, 2018</span>&nbsp;·&nbsp;6 min</footer><a class=entry-link aria-label="post link to Microservices or Components" href=https://andydote.co.uk/2018/10/28/microservices-or-components/></a></article><article class=post-entry><header class=entry-header><h2>SketchNotes: Finding Your Service Boundaries</h2></header><div class=entry-content><p>At NDC Oslo this year, I attended Adam Ralph’s talk on Finding Your Service Boundaries. I enjoyed it a lot, and once the video came out, I rewatched it, and decided to have a go at doing a “sketchnotes”, which I shared on Twitter, which people liked!
I’ve never done one before, but it was pretty fun. I made it in OneNote, zoomed out a lot, and took a screenshot....</p></div><footer class=entry-footer><span title='2018-09-10 00:00:00 +0000 UTC'>September 10, 2018</span>&nbsp;·&nbsp;1 min</footer><a class=entry-link aria-label="post link to SketchNotes: Finding Your Service Boundaries" href=https://andydote.co.uk/2018/09/10/sketchnotes-finding-service-boundaries/></a></article><article class=post-entry><header class=entry-header><h2>Semantic Configuration Validation: Earlier</h2></header><div class=entry-content><p>After my previous post on Validating Your Configuration, one of my colleagues made an interesting point, paraphrasing:
I want to know if the configuration is valid earlier than that. At build time preferably. I don’t want my service to not start if part of it is invalid.
There are two points here, namely when to validate, and what to do with the results of validation.
Handling Validation Results If your configuration is invalid, you’d think the service should fail to start, as it might be configured in a dangerous manner....</p></div><footer class=entry-footer><span title='2018-09-08 00:00:00 +0000 UTC'>September 8, 2018</span>&nbsp;·&nbsp;3 min</footer><a class=entry-link aria-label="post link to Semantic Configuration Validation: Earlier" href=https://andydote.co.uk/2018/09/08/semantic-configuration-validation-earlier/></a></article><article class=post-entry><header class=entry-header><h2>Feature Toggles with Consul</h2></header><div class=entry-content><p>Feature Toggles are a great way of helping to deliver working software, although there are a few things which could go wrong. See my talk Feature Toggles: The Good, The Bad and The Ugly for some interesting stories and insights on it!
I was talking with a colleague the other day about how you could go about implementing Feature Toggles in a centralised manner into an existing system, preferably with a little overhead as possible....</p></div><footer class=entry-footer><span title='2018-09-06 00:00:00 +0000 UTC'>September 6, 2018</span>&nbsp;·&nbsp;4 min</footer><a class=entry-link aria-label="post link to Feature Toggles with Consul" href=https://andydote.co.uk/2018/09/06/consul-feature-toggles/></a></article><article class=post-entry><header class=entry-header><h2>Validate Your Configuration</h2></header><div class=entry-content><p>As I have written many times before, your application’s configuration should be strongly typed and validated that it loads correctly at startup.
This means not only that the source values (typically all represented as strings) can be converted to the target types (int, Uri, TimeSpan etc) but that the values are semantically valid too.
For example, if you have a web.config file with the following AppSetting, and a configuration class to go with it:...</p></div><footer class=entry-footer><span title='2018-08-26 00:00:00 +0000 UTC'>August 26, 2018</span>&nbsp;·&nbsp;3 min</footer><a class=entry-link aria-label="post link to Validate Your Configuration" href=https://andydote.co.uk/2018/08/26/validate-configuration/></a></article><article class=post-entry><header class=entry-header><h2>Branching and Red Builds</h2></header><div class=entry-content><p>So this is a bit of a rant…but hopefully with some solutions and workarounds too. So let’s kick things off with a nice statement:
I hate broken builds.
So everyone basically agrees on this point I think. The problem is that I mean all builds, including ones on shared feature branches.
Currently, I work on a number of projects which uses small(ish) feature branches. The way this works is that the team agrees on a new feature to work on creates a branch, and then each developer works on tasks, committing on their own branches, and Pull-Requesting to the feature branch....</p></div><footer class=entry-footer><span title='2018-08-10 00:00:00 +0000 UTC'>August 10, 2018</span>&nbsp;·&nbsp;3 min</footer><a class=entry-link aria-label="post link to Branching and Red Builds" href=https://andydote.co.uk/2018/08/10/red-builds/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://andydote.co.uk/post/page/4/>« Prev Page</a>
<a class=next href=https://andydote.co.uk/post/page/6/>Next Page »</a></nav></footer></main><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>