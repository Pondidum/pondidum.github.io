<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>writing on Andy Dote</title><link>https://andydote.co.uk/tags/writing/</link><description>Recent content in writing on Andy Dote</description><generator>Hugo -- gohugo.io</generator><language>en-gb</language><lastBuildDate>Wed, 14 Sep 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://andydote.co.uk/tags/writing/rss.xml" rel="self" type="application/rss+xml"/><item><title>Embedding ain't easy, but its alright</title><link>https://andydote.co.uk/2022/09/14/embed/</link><pubDate>Wed, 14 Sep 2022 00:00:00 +0000</pubDate><guid>https://andydote.co.uk/2022/09/14/embed/</guid><description>I write a lot of blog posts which contain code snippets. Like most people, I have done this using a fenced codeblock in markdown which is fine for short blocks of code.
The problem occours when I am embedding code from another repository; often there will be tweaks or bug fixes, and keeping the code in the blog post in sync with the code in the other repo is annoying and manual.</description><content:encoded><![CDATA[<p>I write a lot of blog posts which contain code snippets.  Like most people, I have done this using a fenced codeblock in markdown which is fine for short blocks of code.</p>
<p>The problem occours when I am embedding code from another repository; often there will be tweaks or bug fixes, and keeping the code in the blog post in sync with the code in the other repo is annoying and manual.</p>
<p>To make life easier for myself, I wrote a <a href="https://gohugo.io/content-management/shortcodes/">shortcode</a> called <code>git-embed</code>, which at build time will fetch the specified file, and embed either the whole file, or a line range in a highlighted code block.  It supports line ranges (<code>start</code>, <code>finish</code>), and it will use the <code>file</code>&rsquo;s extension as the highlight language, unless you override with <code>lang</code> parameter.</p>
<p>Usage is like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span>{{&lt; <span style="color:#f92672">git-embed</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">user</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Pondidum&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">repo</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;pondidum.github.io&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ref</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;master&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">file</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;layouts/shortcodes/git-embed.html&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;go&#34;</span>
</span></span><span style="display:flex;"><span>&gt;}}
</span></span></code></pre></div><p>Which I am using to embed the shorcode&rsquo;s own shortcode:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">user</span> <span style="color:#f92672">:=</span> .<span style="color:#a6e22e">Get</span> <span style="color:#e6db74">&#34;user&#34;</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">repo</span> <span style="color:#f92672">:=</span> .<span style="color:#a6e22e">Get</span> <span style="color:#e6db74">&#34;repo&#34;</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">ref</span> <span style="color:#f92672">:=</span> .<span style="color:#a6e22e">Get</span> <span style="color:#e6db74">&#34;ref&#34;</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">file</span> <span style="color:#f92672">:=</span> .<span style="color:#a6e22e">Get</span> <span style="color:#e6db74">&#34;file&#34;</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">source</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">printf</span> <span style="color:#e6db74">&#34;https://github.com/%s/%s/blob/%s/%s&#34;</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">user</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">repo</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">ref</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">file</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">url</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">printf</span> <span style="color:#e6db74">&#34;https://raw.githubusercontent.com/%s/%s/%s/%s&#34;</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">user</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">repo</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">ref</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">file</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">remote</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">resources</span>.<span style="color:#a6e22e">GetRemote</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">url</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{ <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">all_lines</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">split</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">remote</span>.<span style="color:#a6e22e">Content</span> <span style="color:#e6db74">&#34;\n&#34;</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">start</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">isset</span> .<span style="color:#a6e22e">Params</span> <span style="color:#e6db74">&#34;start&#34;</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>  {{<span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">start</span> = (.<span style="color:#a6e22e">Get</span> <span style="color:#e6db74">&#34;start&#34;</span>) | <span style="color:#66d9ef">int</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#a6e22e">end</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">finish</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">len</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">all_lines</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">isset</span> .<span style="color:#a6e22e">Params</span> <span style="color:#e6db74">&#34;finish&#34;</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>  {{ <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">finish</span> = (.<span style="color:#a6e22e">Get</span> <span style="color:#e6db74">&#34;finish&#34;</span>) | <span style="color:#66d9ef">int</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#a6e22e">end</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">start</span> = <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Max</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">start</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">finish</span> = <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Min</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">finish</span> (<span style="color:#a6e22e">len</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">all_lines</span>) <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">lines</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">slice</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#66d9ef">range</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">index</span>, <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">num</span> <span style="color:#f92672">:=</span> (<span style="color:#a6e22e">seq</span> (<span style="color:#a6e22e">add</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">start</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) (<span style="color:#a6e22e">add</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">finish</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)) <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>  {{<span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">lines</span> = <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">lines</span> | <span style="color:#a6e22e">append</span> (<span style="color:#a6e22e">index</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">all_lines</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">num</span>) <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#a6e22e">end</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">lang</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">strings</span>.<span style="color:#a6e22e">TrimPrefix</span> <span style="color:#e6db74">&#34;.&#34;</span> (<span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">Ext</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">file</span>) <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">isset</span> .<span style="color:#a6e22e">Params</span> <span style="color:#e6db74">&#34;lang&#34;</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>  {{<span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">lang</span> = .<span style="color:#a6e22e">Get</span> <span style="color:#e6db74">&#34;lang&#34;</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#a6e22e">end</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">options</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">isset</span> .<span style="color:#a6e22e">Params</span> <span style="color:#e6db74">&#34;options&#34;</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>  {{<span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">options</span> = .<span style="color:#a6e22e">Get</span> <span style="color:#e6db74">&#34;options&#34;</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#a6e22e">end</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">-</span> <span style="color:#a6e22e">highlight</span> ( <span style="color:#a6e22e">delimit</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">lines</span> <span style="color:#e6db74">&#34;\n&#34;</span>) <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">lang</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">options</span> <span style="color:#f92672">-</span>}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#a6e22e">footer</span> <span style="color:#a6e22e">style</span>=<span style="color:#e6db74">&#34;margin: 10px auto;&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#a6e22e">small</span>&gt;&lt;<span style="color:#a6e22e">a</span> <span style="color:#a6e22e">href</span>=<span style="color:#e6db74">&#34;{{- $source -}}&#34;</span>&gt;<span style="color:#a6e22e">Source</span>&lt;<span style="color:#f92672">/</span><span style="color:#a6e22e">a</span>&gt;&lt;<span style="color:#f92672">/</span><span style="color:#a6e22e">small</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">/</span><span style="color:#a6e22e">footer</span>&gt;
</span></span></code></pre></div><footer style="margin: 10px auto;">
  <small><a href="https://github.com/Pondidum/pondidum.github.io/blob/master/layouts/shortcodes/git-embed.html">Source</a></small>
</footer>

<h2 id="future-improvements">Future Improvements</h2>
<p>I&rsquo;d quite like to add a parameter that would allow me to embed a named function, rather than a line range.  I think I&rsquo;d use <a href="https://tree-sitter.github.io/tree-sitter/">Tree-Sitter</a> to do this, but Hugo doesn&rsquo;t seem to have a way to execute an arbitrary command on build, so I&rsquo;d need to make a small API that would do all the work&hellip;  So that can wait for when the itch needs scratching more than this.</p>
]]></content:encoded></item><item><title>Writing Conference Talks</title><link>https://andydote.co.uk/2018/05/15/writing-conference-talks/</link><pubDate>Tue, 15 May 2018 00:00:00 +0000</pubDate><guid>https://andydote.co.uk/2018/05/15/writing-conference-talks/</guid><description>I saw an interesting question on twitter today:
Hey, people who talk at things: How long does it take you to put a new talk together?
I need like 50 hours over at least a couple of months to make something I don&amp;rsquo;t hate. I&amp;rsquo;m trying to get that down (maybe by not doing pictures?) but wondering what&amp;rsquo;s normal for everyone else.
Source
I don&amp;rsquo;t know how long it takes me to write a talk - as it is usually spread over many weeks/months, worked on as and when I have inspiration.</description><content:encoded><![CDATA[<p>I saw an interesting question on twitter today:</p>
<blockquote>
<p>Hey, people who talk at things: How long does it take you to put a new talk together?</p>
<p>I need like 50 hours over at least a couple of months to make something I don&rsquo;t hate. I&rsquo;m trying to get that down (maybe by not doing pictures?) but wondering what&rsquo;s normal for everyone else.</p>
</blockquote>
<p><a href="https://twitter.com/whereistanya/status/995653828933496832">Source</a></p>
<p>I don&rsquo;t know how long it takes me to write a talk - as it is usually spread over many weeks/months, worked on as and when I have inspiration.  The actual processes is something like this:</p>
<ol>
<li>
<p>Think it through</p>
<p>The start of this is usually with an idea for a subject I like a lot, such as Strong Typing, Feature Toggles, or Trunk Based Development.  Where I live I walk everywhere (around 15k to 20k steps per day), which gives me a lot of time to think about things.</p>
</li>
<li>
<p>Giant markdown file of bullet points which I might want to cover</p>
<p>I write down all the points that I want to talk about into one markdown file, which I add to over time.  I use the github checkbox markdown format (<code>* [ ] some point or other</code>) so I can tick thinks off later.</p>
</li>
<li>
<p>Rough order of points at the bottom</p>
<p>At the bottom of this notes file, I start writing an order of things, just to get a sense of flow.  Once this order gets comfortable enough, I stop updating it and start using the real slides file.</p>
</li>
<li>
<p>Start slides writing sections as I feel like it</p>
<p>I start with the title slide, and finding a suitable large image for it.  This takes way longer than you might imagine!  For the rest of the slides, I use a mix of titles, text and hand drawn images.</p>
<p>I use OneNote and Gimp to do the hand drawn parts, and usually the <a href="https://cloud.google.com/icons/">Google Cloud Platform Icons</a>, as they&rsquo;re the best looking (sorry Amazon!)</p>
<p>Attribute all the images as you go.  Much easier than trying to do it later.</p>
</li>
<li>
<p>Re-order it all!</p>
<p>I talk bits of the presentation through in my head, and shuffle bits around as I see fit.  This happens a lot as I write the slides.</p>
</li>
<li>
<p>Talk it through to a wall</p>
<p>My wall gets me talking to it a lot.  I talk it through outloud, and make note of stumbling points, and how long the talk takes, adding speaker notes if needed.</p>
</li>
<li>
<p>Tweaks and re-ordering</p>
<p>I usually end up making last minute tweaks and order switches as I figure out how to make something flow better.  I am still not happy with some transitions in my best talks yet!</p>
</li>
</ol>
<p>I write all my talks using <a href="https://github.com/hakimel/reveal.js">RevealJS</a>, mostly because I can write my slides as a markdown file and have it rendered in the browser, and partly because I&rsquo;ve always used it.</p>
<p>To get things like the Speaker Notes view working, you need to be running from a webserver (rather than just from an html file on your filesystem.)  For this I use <a href="https://www.npmjs.com/package/nws">NWS</a>, which is a static webserver for your current working directory (e.g. <code>cd /d/dev/presentations &amp;&amp; nws</code>).</p>
<p>Currently, I am trying to work out if I can use Jekyll or Hugo to generate the repository for me, as all the presentations have the same content, other than images, slides file, and a customise.css file.  Still not sure on how best to achieve what I am after though.</p>
<p>You can see the source for all my talks in my <a href="https://github.com/pondidum/presentations">Presentations Repository</a> on github.  The actual slides can be seen on my website <a href="https://andydote.co.uk/presentations/">here</a>, and the videos (if available), I link to <a href="https://andydote.co.uk/talks/">here</a>.</p>
]]></content:encoded></item></channel></rss>